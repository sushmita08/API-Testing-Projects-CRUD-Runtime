{
  "info": {
    "_postman_id": "b723b76f-8031-4f79-a02d-cf39a30dbce5",
    "name": "Triggers- Multiple Events Crud",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "32387905"
  },
  "item": [
    {
      "name": "Triggers- Multiple Events",
      "item": [
        {
          "name": "Multiple Events and Additional Criteria",
          "item": [
            {
              "name": "Login",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userid\":\"{{username}}@{{ns1}}\",\n    \"password\":\"{{password}}\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/login?namespace={{ns}}&qa=true",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "login"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "qa",
                      "value": "true"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Create: with only multiple events",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var jsonData = pm.response.json();",
                      "var id = jsonData.id;",
                      "id = id.replace(\"+\", \"%2B\");",
                      "pm.environment.set(\"multipleEventsTriggerId%2B\", id);",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "// var eventList = pm.collectionVariables.get(\"multipleEvents\") + \"\";"
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"MET\",\n    \"category\": \"Custom Signal\",\n    \"impl\": \"\",\n    \"icon\": \"ti-mobile\",\n    \"active\": true,\n    \"rule\": [\n        {\n            \"field\": \"event\",\n            \"operator\": \"equals\",\n            \"value\": \"{{multipleEvents}}\",\n            \"type\": \"z1_template\",\n            \"uihint\": \"\"\n        }\n    ],\n    \"type\": \"udc.system.core.TriggerOOTB:__z1_userperformsactivitysignal\",\n    \"params\": [\n        {\n            \"name\": \"z1_priority\",\n            \"type\": \"z1_priority\",\n            \"value\": \"medium\"\n        },\n        {\n            \"name\": \"event\",\n            \"type\": \"\",\n            \"display\": \"Watch for specific activity\",\n            \"description\": \"Select one or more activities that activate the trigger evaluation\",\n            \"value\": \"\",\n            \"control\": \"{\\\"control\\\":\\\"system:event\\\",\\\"controlOption\\\":\\\"\\\",\\\"isRequired\\\":\\\"true\\\"}\"\n        },\n        {\n            \"name\": \"z1_fireonce\",\n            \"type\": \"z1_fireonce\",\n            \"display\": \"Fire only once per session\",\n            \"value\": \"false\",\n            \"control\": \"{\\\"control\\\":\\\"system:boolean\\\",\\\"controlOption\\\":\\\"{\\\\\\\"configtype\\\\\\\":\\\\\\\"params\\\\\\\"}\\\",\\\"isRequired\\\":\\\"false\\\"}\"\n        }\n    ]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/create?namespace={{ns}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "create"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "TC-TGM-0108",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var data = JSON.parse(responseBody);",
                      "var triggEvents = (data.rule[0].value) + \"\"; ",
                      "var defEvents = pm.collectionVariables.get(\"multipleEvents\");",
                      "",
                      "",
                      "    if(triggEvents === defEvents){",
                      "        tests[\"TC-TGM-0108 : Verify by creating trigger with defining multiple events and without any criteria: Severity=1\"] = true;",
                      "    }",
                      "    else {",
                      "        /* Check the value of 'testResult' If it is not 1 then Fail the case */",
                      "        tests[\"TC-TGM-0108 : Verify by creating trigger with defining multiple events and without any criteria=1\"] = false;",
                      "",
                      "}",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "method": "GET",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/id?namespace={{ns}}&sId={{multipleEventsTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "id"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sId",
                      "value": "{{multipleEventsTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update: Add criteria",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"MET\",\n    \"category\": \"Custom Signal\",\n    \"impl\": \"\",\n    \"icon\": \"ti-mobile\",\n    \"active\": true,\n    \"rule\": [\n        {\n            \"field\": \"event\",\n            \"operator\": \"equals\",\n            \"value\": \"{{multipleEvents}}\",\n            \"type\": \"z1_template\",\n            \"uihint\": \"EventParameterMatch|Devices|SystemAttributeAtThreshold\"\n        },\n        {\n            \"field\": \"{{var1}}\",\n            \"operator\": \"in\",\n            \"value\": \"html5\"\n        },\n        {\n            \"field\": \"{{var2}}\",\n            \"operator\": \"==\",\n            \"value\": \"ABC123\",\n            \"useContext\": false\n        },\n        {\n            \"field\": \"{{var3}}\",\n            \"operator\": \"==\",\n            \"value\": \"y\",\n            \"useContext\": false\n        }\n    ],\n    \"type\": \"udc.system.core.TriggerOOTB:__z1_userperformsactivitysignal\",\n    \"params\": [\n        {\n            \"name\": \"z1_priority\",\n            \"type\": \"z1_priority\",\n            \"value\": \"medium\"\n        },\n        {\n            \"name\": \"event\",\n            \"type\": \"\",\n            \"display\": \"Watch for specific activity\",\n            \"description\": \"Select one or more activities that activate the trigger evaluation\",\n            \"value\": \"\",\n            \"control\": \"{\\\"control\\\":\\\"system:event\\\",\\\"controlOption\\\":\\\"\\\",\\\"isRequired\\\":\\\"true\\\"}\"\n        },\n        {\n            \"name\": \"z1_fireonce\",\n            \"type\": \"z1_fireonce\",\n            \"display\": \"Fire only once per session\",\n            \"value\": \"false\",\n            \"control\": \"{\\\"control\\\":\\\"system:boolean\\\",\\\"controlOption\\\":\\\"{\\\\\\\"configtype\\\\\\\":\\\\\\\"params\\\\\\\"}\\\",\\\"isRequired\\\":\\\"false\\\"}\"\n        }\n    ]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/update?namespace={{ns}}&sid={{multipleEventsTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "update"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sid",
                      "value": "{{multipleEventsTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "TC-TGM-0104",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var data = JSON.parse(responseBody);",
                      "var attr1 = pm.collectionVariables.get(\"var1\");",
                      "var attr2 = pm.collectionVariables.get(\"var2\");",
                      "var attr3 = pm.collectionVariables.get(\"var3\");",
                      "var isAttributesMatched = false;",
                      "",
                      "for (var i=1;i<data.rule.length;i++){",
                      "    console.log(data.rule[i].field)",
                      "    if(data.rule[i].field == attr1|attr2|attr3){",
                      "        isAttributesMatched = true;",
                      "    }",
                      "}",
                      "",
                      "    if(isAttributesMatched){",
                      "        tests[\"TC-TGM-0104 : Verify that create trigger -> by selecting multiple events with additional criteria for specific event: Severity=1\"] = true;",
                      "    }",
                      "    else {",
                      "        /* Check the value of 'testResult' If it is not 1 then Fail the case */",
                      "        tests[\"TC-TGM-0104 : Verify that create trigger -> by selecting multiple events with additional criteria for specific event: Severity=1\"] = false;",
                      "",
                      "}",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "method": "GET",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/id?namespace={{ns}}&sId={{multipleEventsTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "id"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sId",
                      "value": "{{multipleEventsTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update: Add event",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "var List = pm.collectionVariables.get(\"multipleEvents\");",
                      "var addEvent = pm.collectionVariables.get(\"addEvent\");",
                      "var newList = List + addEvent;",
                      "pm.collectionVariables.set(\"MEAddNewEvent\", newList);",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"MET\",\n    \"category\": \"Custom Signal\",\n    \"impl\": \"\",\n    \"icon\": \"ti-mobile\",\n    \"active\": true,\n    \"rule\": [\n        {\n            \"field\": \"event\",\n            \"operator\": \"equals\",\n            \"value\": \"{{MEAddNewEvent}}\",\n            \"type\": \"z1_template\",\n            \"uihint\": \"EventParameterMatch|Devices\"\n        },\n        {\n            \"field\": \"os\",\n            \"operator\": \"in\",\n            \"value\": \"html5\"\n        },\n        {\n            \"field\": \"loginStatus\",\n            \"operator\": \"equals\",\n            \"value\": \"Y\",\n            \"useContext\": false\n        },\n        {\n            \"field\": \"coupon\",\n            \"operator\": \"equals\",\n            \"value\": \"123\",\n            \"useContext\": false\n        }\n    ],\n    \"type\": \"udc.system.core.TriggerOOTB:__z1_userperformsactivitysignal\",\n    \"params\": [\n        {\n            \"name\": \"z1_priority\",\n            \"type\": \"z1_priority\",\n            \"value\": \"medium\"\n        },\n        {\n            \"name\": \"event\",\n            \"type\": \"\",\n            \"display\": \"Watch for specific activity\",\n            \"description\": \"Select one or more activities that activate the trigger evaluation\",\n            \"value\": \"\",\n            \"control\": \"{\\\"control\\\":\\\"system:event\\\",\\\"controlOption\\\":\\\"\\\",\\\"isRequired\\\":\\\"true\\\"}\"\n        },\n        {\n            \"name\": \"z1_fireonce\",\n            \"type\": \"z1_fireonce\",\n            \"display\": \"Fire only once per session\",\n            \"value\": \"false\",\n            \"control\": \"{\\\"control\\\":\\\"system:boolean\\\",\\\"controlOption\\\":\\\"{\\\\\\\"configtype\\\\\\\":\\\\\\\"params\\\\\\\"}\\\",\\\"isRequired\\\":\\\"false\\\"}\"\n        }\n    ]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/update?namespace={{ns}}&sid={{multipleEventsTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "update"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sid",
                      "value": "{{multipleEventsTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "TC-TGM-0107",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var data = JSON.parse(responseBody);",
                      "var triggEvents = (data.rule[0].value) + \"\"; ",
                      "var newEvent = pm.collectionVariables.get(\"addEvent\")+\"\";",
                      "if(triggEvents.includes(newEvent)){",
                      "  tests[\"TC-TGM-0107 : Verify by editing existing trigger, add another event: Severity=1\"] = true;",
                      "  }",
                      "  else{",
                      " tests[\"TC-TGM-0107 : Verify by editing existing trigger, add another event: Severity=1\"] = false;",
                      "}",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "method": "GET",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/id?namespace={{ns}}&sId={{multipleEventsTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "id"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sId",
                      "value": "{{multipleEventsTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete",
              "request": {
                "method": "POST",
                "header": [],
                "url": {
                  "raw": "{{baseURL}}/c3/data/bx/signal/delete?namespace={{ns}}&id={{multipleEventsTriggerId%2B}}&type=signal",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "bx",
                    "signal",
                    "delete"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "id",
                      "value": "{{multipleEventsTriggerId%2B}}"
                    },
                    {
                      "key": "type",
                      "value": "signal"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "TC-TGM-0113",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var data = JSON.parse(responseBody);",
                      "var id = pm.environment.get(\"multipleEventsTriggerId\");",
                      "var triggerPresent = false;",
                      "for(var i=0; i<data.length; i++){",
                      "",
                      "    if(data[i].id == id){",
                      "        triggerPresent = true",
                      "        break;",
                      "    }",
                      "}",
                      "    if(!triggerPresent){",
                      "        tests[\"TC-TGM-0113 : Verify by deleting  multiple events trigger: Severity=1\"] = true;",
                      "    }",
                      "    else {",
                      "        /* Check the value of 'testResult' If it is not 1 then Fail the case */",
                      "        tests[\"TC-TGM-0113 : Verify by deleting  multiple events trigger: Severity=1\"] = false;",
                      "",
                      "}",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "method": "GET",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/all?namespace={{ns}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "all"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    }
                  ]
                }
              },
              "response": []
            }
          ],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "pm.collectionVariables.set(\"multipleEvents\", \"add_payment_info|add_to_cart|begin_checkout|purchase|update_cart|view_cart|view_category|view_home|view_product|view_sku\");"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Any Event selection with Additional Criteria",
          "item": [
            {
              "name": "Login",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userid\":\"{{username}}@{{ns1}}\",\n    \"password\":\"{{password}}\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/login?namespace={{ns}}&qa=true",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "login"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "qa",
                      "value": "true"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Create",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var jsonData = pm.response.json();",
                      "var id = jsonData.id;",
                      "id = id.replace(\"+\", \"%2B\");",
                      "pm.environment.set(\"anyEventTriggerId%2B\", id);",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"AnyEvent\",\n    \"category\": \"Custom Signal\",\n    \"impl\": \"\",\n    \"icon\": \"ti-mobile\",\n    \"active\": true,\n    \"rule\": [\n        {\n            \"field\": \"event\",\n            \"operator\": \"equals\",\n            \"value\": \"system:any\",\n            \"type\": \"z1_template\"\n        }\n    ],\n    \"type\": \"udc.system.core.TriggerOOTB:__z1_userperformsactivitysignal\",\n    \"params\": [\n        {\n            \"name\": \"z1_priority\",\n            \"type\": \"z1_priority\",\n            \"value\": \"medium\"\n        },\n        {\n            \"name\": \"event\",\n            \"type\": \"\",\n            \"display\": \"Watch for specific activity\",\n            \"description\": \"Select one or more activities that activate the trigger evaluation\",\n            \"value\": \"\",\n            \"control\": \"{\\\"control\\\":\\\"system:event\\\",\\\"controlOption\\\":\\\"\\\",\\\"isRequired\\\":\\\"true\\\"}\"\n        },\n        {\n            \"name\": \"z1_fireonce\",\n            \"type\": \"z1_fireonce\",\n            \"display\": \"Fire only once per session\",\n            \"value\": \"false\",\n            \"control\": \"{\\\"control\\\":\\\"system:boolean\\\",\\\"controlOption\\\":\\\"{\\\\\\\"configtype\\\\\\\":\\\\\\\"params\\\\\\\"}\\\",\\\"isRequired\\\":\\\"false\\\"}\"\n        }\n    ]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/create?namespace={{ns}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "create"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "TC-TGM-0115",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var data = JSON.parse(responseBody);",
                      "var triggEvent = (data.rule[0].value) + \"\"; ",
                      "",
                      "    if(triggEvent.includes(\"any\")){",
                      "        tests[\"TC-TGM-0115 : Verify by creating trigger for Any event: Severity=1\"] = true;",
                      "    }",
                      "    else {",
                      "        /* Check the value of 'testResult' If it is not 1 then Fail the case */",
                      "        tests[\"TC-TGM-0115 : Verify by creating trigger for Any event: Severity=1\"] = false;",
                      "",
                      "}",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "method": "GET",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/id?namespace={{ns}}&sId={{anyEventTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "id"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sId",
                      "value": "{{anyEventTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update: Add criteria",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"AnyEvent\",\n    \"category\": \"Custom Signal\",\n    \"impl\": \"\",\n    \"icon\": \"ti-mobile\",\n    \"active\": true,\n    \"rule\": [\n        {\n            \"field\": \"event\",\n            \"operator\": \"equals\",\n            \"value\": \"system:any\",\n            \"type\": \"z1_template\",\n            \"uihint\": \"Devices\"\n        },\n        {\n            \"field\": \"{{var1}}\",\n            \"operator\": \"in\",\n            \"value\": \"html5\"\n        }\n    ],\n    \"type\": \"udc.system.core.TriggerOOTB:__z1_userperformsactivitysignal\",\n    \"params\": [\n        {\n            \"name\": \"z1_priority\",\n            \"type\": \"z1_priority\",\n            \"value\": \"medium\"\n        },\n        {\n            \"name\": \"event\",\n            \"type\": \"\",\n            \"display\": \"Watch for specific activity\",\n            \"description\": \"Select one or more activities that activate the trigger evaluation\",\n            \"value\": \"\",\n            \"control\": \"{\\\"control\\\":\\\"system:event\\\",\\\"controlOption\\\":\\\"\\\",\\\"isRequired\\\":\\\"true\\\"}\"\n        },\n        {\n            \"name\": \"z1_fireonce\",\n            \"type\": \"z1_fireonce\",\n            \"display\": \"Fire only once per session\",\n            \"value\": \"false\",\n            \"control\": \"{\\\"control\\\":\\\"system:boolean\\\",\\\"controlOption\\\":\\\"{\\\\\\\"configtype\\\\\\\":\\\\\\\"params\\\\\\\"}\\\",\\\"isRequired\\\":\\\"false\\\"}\"\n        }\n    ]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/update?namespace={{ns}}&sid={{anyEventTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "update"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sid",
                      "value": "{{anyEventTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "TC-TGM-0117",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var data = JSON.parse(responseBody);",
                      "var attr1 = pm.collectionVariables.get(\"var1\");",
                      "var isAttributesMatched = false;",
                      "",
                      "for (var i=1;i<data.rule.length;i++){",
                      "    console.log(data.rule[i].field)",
                      "    if(data.rule[i].field == attr1){",
                      "        isAttributesMatched = true;",
                      "    }",
                      "}",
                      "",
                      "    if(isAttributesMatched){",
                      "        tests[\"TC-TGM-0117 : Verify by adding additinal criteria like os includes html: Severity=1\"] = true;",
                      "    }",
                      "    else {",
                      "        /* Check the value of 'testResult' If it is not 1 then Fail the case */",
                      "        tests[\"TC-TGM-0117 : Verify by adding additinal criteria like os includes html: Severity=1\"] = false;",
                      "",
                      "}",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "method": "GET",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/id?namespace={{ns}}&sId={{anyEventTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "id"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sId",
                      "value": "{{anyEventTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete",
              "request": {
                "method": "POST",
                "header": [],
                "url": {
                  "raw": "{{baseURL}}/c3/data/bx/signal/delete?namespace={{ns}}&id={{anyEventTriggerId%2B}}&type=signal",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "bx",
                    "signal",
                    "delete"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "id",
                      "value": "{{anyEventTriggerId%2B}}"
                    },
                    {
                      "key": "type",
                      "value": "signal"
                    }
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Single Event With Additional Criteria",
          "item": [
            {
              "name": "Login",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userid\":\"sushmita@{{ns1}}\",\n    \"password\":\"{{password}}\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/login?namespace={{ns}}&qa=true",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "login"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "qa",
                      "value": "true"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Create",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var jsonData = pm.response.json();",
                      "var id = jsonData.id;",
                      "id = id.replace(\"+\", \"%2B\");",
                      "pm.environment.set(\"singleEventTriggerId%2B\", id);",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"SET\",\n    \"category\": \"Custom Signal\",\n    \"impl\": \"\",\n    \"icon\": \"ti-mobile\",\n    \"active\": true,\n    \"rule\": [\n        {\n            \"field\": \"event\",\n            \"operator\": \"equals\",\n            \"value\": \"{{singleEvent}}\",\n            \"type\": \"z1_template\",\n            \"uihint\": \"\"\n        }\n    ],\n    \"type\": \"udc.system.core.TriggerOOTB:__z1_userperformsactivitysignal\",\n    \"params\": [\n        {\n            \"name\": \"z1_priority\",\n            \"type\": \"z1_priority\",\n            \"value\": \"medium\"\n        },\n        {\n            \"name\": \"event\",\n            \"type\": \"\",\n            \"display\": \"Watch for specific activity\",\n            \"description\": \"Select one or more activities that activate the trigger evaluation\",\n            \"value\": \"\",\n            \"control\": \"{\\\"control\\\":\\\"system:event\\\",\\\"controlOption\\\":\\\"\\\",\\\"isRequired\\\":\\\"true\\\"}\"\n        },\n        {\n            \"name\": \"z1_fireonce\",\n            \"type\": \"z1_fireonce\",\n            \"display\": \"Fire only once per session\",\n            \"value\": \"false\",\n            \"control\": \"{\\\"control\\\":\\\"system:boolean\\\",\\\"controlOption\\\":\\\"{\\\\\\\"configtype\\\\\\\":\\\\\\\"params\\\\\\\"}\\\",\\\"isRequired\\\":\\\"false\\\"}\"\n        }\n    ]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/create?namespace={{ns}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "create"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "TC-TGM-0110",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var data = JSON.parse(responseBody);",
                      "var expected = (data.rule[0].value) + \"\"; ",
                      "var actual = pm.collectionVariables.get(\"singleEvent\");",
                      "",
                      "    if(actual == expected){",
                      "        tests[\"TC-TGM-0110 : Verify trigger by creating with single event selection: Severity=1\"] = true;",
                      "    }",
                      "    else {",
                      "        /* Check the value of 'testResult' If it is not 1 then Fail the case */",
                      "        tests[\"TC-TGM-0110 : Verify trigger by creating with single event selection: Severity=1\"] = false;",
                      "",
                      "}",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/id?namespace={{ns}}&sId={{singleEventTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "id"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sId",
                      "value": "{{singleEventTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update: Add AC",
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"AnyEvent\",\n    \"category\": \"Custom Signal\",\n    \"impl\": \"\",\n    \"icon\": \"ti-mobile\",\n    \"active\": true,\n    \"rule\": [\n        {\n            \"field\": \"event\",\n            \"operator\": \"equals\",\n            \"value\": \"{{singleEvent}}\",\n            \"type\": \"z1_template\",\n            \"uihint\": \"Devices\"\n        },\n        {\n            \"field\": \"{{var1}}\",\n            \"operator\": \"in\",\n            \"value\": \"html5\"\n        },\n        {\n            \"field\": \"{{var2}}\",\n            \"operator\": \"==\",\n            \"value\": \"ABC123\",\n            \"useContext\": false\n        },\n        {\n            \"field\": \"{{var3}}\",\n            \"operator\": \"==\",\n            \"value\": \"y\",\n            \"useContext\": false\n        }\n    ],\n    \"type\": \"udc.system.core.TriggerOOTB:__z1_userperformsactivitysignal\",\n    \"params\": [\n        {\n            \"name\": \"z1_priority\",\n            \"type\": \"z1_priority\",\n            \"value\": \"medium\"\n        },\n        {\n            \"name\": \"event\",\n            \"type\": \"\",\n            \"display\": \"Watch for specific activity\",\n            \"description\": \"Select one or more activities that activate the trigger evaluation\",\n            \"value\": \"\",\n            \"control\": \"{\\\"control\\\":\\\"system:event\\\",\\\"controlOption\\\":\\\"\\\",\\\"isRequired\\\":\\\"true\\\"}\"\n        },\n        {\n            \"name\": \"z1_fireonce\",\n            \"type\": \"z1_fireonce\",\n            \"display\": \"Fire only once per session\",\n            \"value\": \"false\",\n            \"control\": \"{\\\"control\\\":\\\"system:boolean\\\",\\\"controlOption\\\":\\\"{\\\\\\\"configtype\\\\\\\":\\\\\\\"params\\\\\\\"}\\\",\\\"isRequired\\\":\\\"false\\\"}\"\n        }\n    ]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/update?namespace={{ns}}&sid={{singleEventTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "update"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sid",
                      "value": "{{singleEventTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "TC-TGM-0112",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var data = JSON.parse(responseBody);",
                      "var attr1 = pm.collectionVariables.get(\"var1\");",
                      "var attr2 = pm.collectionVariables.get(\"var2\");",
                      "var attr3 = pm.collectionVariables.get(\"var3\");",
                      "var isAttributesMatched = false;",
                      "",
                      "for (var i=1;i<data.rule.length;i++){",
                      "    console.log(data.rule[i].field)",
                      "    if(data.rule[i].field == attr1|attr2|attr3){",
                      "        isAttributesMatched = true;",
                      "    }",
                      "}",
                      "",
                      "    if(isAttributesMatched){",
                      "        tests[\"TC-TGM-0112 : Verify by updating single event trigger with additional criteria: Severity=1\"] = true;",
                      "    }",
                      "    else {",
                      "        /* Check the value of 'testResult' If it is not 1 then Fail the case */",
                      "        tests[\"TC-TGM-0112 : Verify by updating single event trigger with additional criteria: Severity=1\"] = false;",
                      "",
                      "}",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseURL}}/c3/data/signals/id?namespace={{ns}}&sId={{singleEventTriggerId%2B}}",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "signals",
                    "id"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "sId",
                      "value": "{{singleEventTriggerId%2B}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "DeleteTrigger",
              "request": {
                "method": "POST",
                "header": [],
                "url": {
                  "raw": "{{baseURL}}/c3/data/bx/signal/delete?namespace={{ns}}&id={{singleEventTriggerId%2B}}&type=signal",
                  "host": [
                    "{{baseURL}}"
                  ],
                  "path": [
                    "c3",
                    "data",
                    "bx",
                    "signal",
                    "delete"
                  ],
                  "query": [
                    {
                      "key": "namespace",
                      "value": "{{ns}}"
                    },
                    {
                      "key": "id",
                      "value": "{{singleEventTriggerId%2B}}"
                    },
                    {
                      "key": "type",
                      "value": "signal"
                    }
                  ]
                }
              },
              "response": []
            }
          ]
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "multipleEvents",
      "value": "add_payment_info|add_to_cart|begin_checkout|purchase|update_cart|view_cart|view_category|view_home|view_product|view_sku",
      "type": "string"
    },
    {
      "key": "var1",
      "value": "os",
      "type": "string"
    },
    {
      "key": "var2",
      "value": "loginStatus",
      "type": "string"
    },
    {
      "key": "var3",
      "value": "coupon",
      "type": "string"
    },
    {
      "key": "addEvent",
      "value": "|search",
      "type": "string"
    },
    {
      "key": "MEAddNewEvent",
      "value": ""
    },
    {
      "key": "singleEvent",
      "value": "purchase",
      "type": "string"
    }
  ]
}